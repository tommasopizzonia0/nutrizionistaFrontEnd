<div class="sidebar" [class.dark]="isDarkMode" [class.collapsed]="isCollapsed">
  <!-- HEADER -->
  <div class="sidebar-header">
    <div class="avatar-wrapper">
      <img class="avatar" src="https://i.pravatar.cc/100?img=5" alt="Usuario">
    </div>
    <div class="user-info">
      <div class="user-name">Gabriel Spena</div>
      <div class="user-role">Nutrizionista</div>
    </div>
  </div>

  <!-- MENU -->
  <div class="sidebar-menu">
    <div 
      class="menu-item" 
      *ngFor="let item of menuItems" 
      [class.active]="activeItem === item.id" 
      (click)="setActiveItem(item.id, $event)">
      <fa-icon [icon]="item.icon"></fa-icon>
      <span>{{item.label}}</span>
    </div>
  </div>

  <!-- BOTTOM ACTIONS -->
  <div class="sidebar-bottom">
    <div class="menu-item" (click)="logout()">
      <fa-icon [icon]="faSignOutAlt"></fa-icon>
      <span>Log Out</span>
    </div>

    <div class="toggle-theme">
      <fa-icon [icon]="getThemeIcon()" (click)="toggleTheme()"></fa-icon>

      <span *ngIf="!isCollapsed">
        {{isDarkMode ? 'Modalità Scura' : 'Modalità Chiara'}}
      </span>

      <label class="switch" *ngIf="!isCollapsed">
        <input type="checkbox" [checked]="isDarkMode" (change)="toggleTheme()">
        <span class="slider"></span>
      </label>
    </div>


    <div class="toggle-collapse" (click)="toggleSidebar()">
      <fa-icon [icon]="isCollapsed ? faAngleDoubleRight : faAngleDoubleLeft"></fa-icon>
      <span>{{isCollapsed ? 'Espandi' : 'Restringi'}}</span>
    </div>
  </div>
</div>
