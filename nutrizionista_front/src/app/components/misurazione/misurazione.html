<div class="container-misurazione" [class.dark-mode]="isDarkMode" [ngClass]="sessoClass">
  <div class="svg-section">
    <h3>Seleziona la parte del corpo</h3>
    <div class="svg-container">
        @if (sessoClass === '') {
        <div>Caricamento...</div>
      } @else if (sessoClass === 'maschio') {
      <svg version="1.1" viewBox="0 0 604.502 1628.762" width="350" height="auto">
        <!-- Bicipite Destro -->
        <path id="bicipiteDx"
              (click)="onClickSVG('bicipiteDx')"
              [class.evidenziato]="parteCorporeaAttiva === 'bicipiteDx'"
              d="M 159.13867 385.36133 L 80.734375 385.36133 C 81.399172 390.30686 81.452396 394.74638 81.839844 403.01953 C 82.522844 417.60253 78.635594 438.54831 76.183594 446.69531 C 73.617594 455.21831 72.876359 470.44019 68.818359 511.49219 C 62.727359 573.38919 56.463594 554.74877 51.683594 623.00977 C 53.527594 746.00177 52.329484 724.68519 54.021484 744.24219 C 55.000484 755.54019 51.992406 762.57236 51.941406 774.31836 C 51.941406 774.31836 49.598188 778.04803 46.242188 782.45703 C 42.900188 786.84903 34.303031 799.57425 33.957031 800.03125 C 32.651031 801.75425 30.549484 804.19747 29.646484 805.73047 C 28.448484 807.75447 27.856234 813.81912 26.490234 818.20312 C 25.655234 820.88414 23.919109 824.29889 23.287109 827.08789 C 22.201109 831.89589 22.284484 836.01175 21.646484 840.59375 C 21.222484 843.63975 20.093812 847.03195 19.632812 849.50195 C 19.033812 852.71495 20.127953 852.38333 21.751953 853.23633 C 23.413953 854.11733 25.201064 853.66109 27.414062 852.87109 C 31.857063 850.77809 32.795469 846.75939 35.230469 842.65039 L 35.230469 840.52148 C 35.779469 844.59348 35.536672 848.46514 35.513672 852.86914 C 35.404672 874.13214 32.7245 877.49328 32.6875 893.48828 C 32.6685 902.12128 33.681422 909.15384 35.482422 913.46484 C 36.643422 916.24184 40.988297 918.63377 43.779297 913.38477 C 46.337297 908.57877 45.069203 907.48377 46.283203 900.25977 C 47.056203 895.68677 46.900219 891.50533 48.449219 884.11133 C 48.731219 882.76833 48.865859 880.44572 49.130859 879.13672 C 50.854859 870.64572 52.365609 864.05041 53.099609 859.69141 L 54.216797 859.69141 C 56.277797 869.34741 53.820359 882.40319 54.193359 887.24219 C 54.516359 891.42319 54.941078 895.1035 55.080078 899.3125 C 55.170078 902.0415 54.955936 905.70878 55.335938 908.30078 C 55.687936 910.69978 56.307266 913.64672 56.572266 916.38672 C 57.345266 924.40972 66.788578 925.72237 69.017578 915.35938 C 70.103578 910.30838 69.751186 902.46825 70.242188 898.28125 C 73.024186 874.55525 71.034172 878.53394 73.201172 858.83594 C 74.052172 858.50394 74.656875 858.62142 75.546875 858.85742 C 75.546875 858.85742 75.76825 864.44395 76.15625 871.62695 C 76.52125 878.30195 76.612234 868.5417 77.490234 898.5957 C 77.693234 905.4807 77.965344 910.35034 79.902344 913.65234 C 83.371344 917.76434 87.175314 915.14978 88.570312 912.17578 C 91.150313 906.67678 91.662141 897.52903 92.494141 886.95703 C 92.802141 883.06503 93.204781 878.90083 92.425781 868.92383 C 91.937781 862.71483 92.687516 857.48841 92.603516 853.44141 C 93.162516 853.06241 93.163656 853.39563 93.722656 853.01562 C 99.387656 871.49563 94.285959 888.96123 100.00195 896.61523 C 101.38695 897.60923 104.64415 898.03594 106.07812 892.33594 C 109.17915 879.97594 108.99489 846.36844 109.21289 843.64844 C 109.96189 834.31844 109.13278 829.12334 108.92578 821.77734 C 108.69978 813.65234 108.59572 805.28575 107.26172 798.34375 C 106.17872 792.69375 105.59344 785.38639 104.39844 779.52539 C 103.53844 775.30339 102.50883 773.00366 101.92383 768.97266 C 101.68683 762.92566 101.04128 756.2605 102.23828 750.0625 C 109.46128 712.6115 125.14667 680.02015 132.38867 642.70312 C 138.64567 610.45515 133.23017 603.34928 135.82617 585.48828 C 136.42817 581.35028 137.55562 578.50619 138.14062 574.49219 C 140.04563 561.50019 140.5705 550.61623 142.4375 537.61523 C 148.1405 510.22023 159.39045 486.83459 159.18945 454.68359 L 159.26953 454.68359 L 159.13867 385.36133 z"
              style="fill:#99ff55;cursor:pointer" />
        
        <!-- Spalla Destra -->
        <path id="spalle"
              (click)="onClickSVG('spalle')"
              [class.evidenziato]="parteCorporeaAttiva === 'spalle'"
              d="M 158.91016 263.99023 C 153.31243 265.98778 149.73341 266.60654 141.65039 269.95508 C 119.33939 279.19608 103.49848 290.06914 92.021484 313.24414 C 78.865484 339.80414 78.246875 370.78897 80.296875 382.54297 C 80.46726 383.5182 80.611603 384.44801 80.734375 385.36133 L 159.13867 385.36133 L 158.91016 263.99023 z"
              style="fill:#99ff55;cursor:pointer" />

        
        <!-- Gamba Destra -->
        <path id="gambaDx"
              (click)="onClickSVG('gambaDx')"
              [class.evidenziato]="parteCorporeaAttiva === 'gambaDx'"
              d="M 303.01953 742.07812 C 265.42832 741.88233 218.51407 741.5937 159.96484 741.17773 C 159.91251 741.38748 159.86011 741.59459 159.80859 741.80078 L 160.38867 1050.6523 C 162.9251 1068.12 166.56767 1092.1737 171.64844 1121.0059 C 182.01844 1179.8349 164.47209 1203.3644 164.87109 1242.3164 C 165.26809 1281.2704 172.84678 1308.8599 188.80078 1365.2559 C 204.75478 1421.6539 202.75977 1467.5012 202.75977 1475.6172 C 202.75977 1483.7312 202.3608 1491.034 199.9668 1497.123 C 197.5728 1503.206 196.52739 1527.9401 196.77539 1531.2031 C 197.17439 1536.4761 186.80467 1555.1428 184.01367 1560.0098 C 182.03567 1563.4628 176.43523 1572.5863 175.24023 1577.8633 C 174.04323 1583.1403 173.64398 1593.6886 176.83398 1596.9336 C 180.02598 1600.1786 184.01311 1598.5558 184.41211 1597.3398 C 186.40511 1602.2068 194.7832 1601.8027 194.7832 1601.8027 C 194.7832 1601.8027 191.98909 1604.6394 198.37109 1605.8574 C 204.75309 1607.0754 207.5458 1601.3972 208.3418 1602.6152 C 213.1298 1609.8892 223.10867 1608.2025 225.88867 1603.0215 C 225.88867 1603.0215 231.47234 1602.2078 230.27734 1603.4238 C 229.08034 1604.6408 229.47708 1610.7261 237.45508 1613.1641 C 250.61608 1616.4091 256.60045 1607.8876 260.18945 1604.6406 C 263.78045 1601.3976 260.9863 1596.9337 263.7793 1589.2227 C 266.5683 1581.5147 261.38672 1564.8789 261.38672 1558.7969 C 264.97572 1550.2749 263.38086 1527.5509 263.38086 1517.0039 C 263.38086 1506.4519 266.56886 1498.3383 263.38086 1494.2812 C 260.18886 1490.2249 258.92334 1471.3857 255.40234 1451.6797 C 250.61634 1424.8987 259.39119 1371.7494 267.36719 1333.6094 C 275.34519 1295.4694 266.56975 1253.2742 258.59375 1228.1172 C 250.61775 1202.9592 259.39119 1170.5052 267.36719 1146.1602 C 275.34519 1121.8132 282.52372 1022.8139 286.51172 1006.5859 C 290.49972 990.35518 297.66211 932.47852 297.66211 932.47852 C 299.67511 910.36252 298.04485 849.95103 299.79688 835.95703 C 300.05687 833.90003 301.56836 827.31445 301.56836 827.31445 C 302.10118 827.04191 302.58321 827.02957 303.01953 827.25586 L 303.01953 742.07812 z"
              style="fill:#99ff55;cursor:pointer" />
        
        <!-- Gamba Sinistra -->
        <path id="gambaSx"
              (click)="onClickSVG('gambaSx')"
              [class.evidenziato]="parteCorporeaAttiva === 'gambaSx'"
              d="M 303.01953 742.07812 L 303.01953 827.25586 C 310.16369 830.96107 304.99011 898.59783 307.71094 934.04492 C 307.71148 934.04806 315.22442 977.37152 316.81836 983.86328 C 318.41236 990.35628 331.97266 1076.7809 331.97266 1099.5039 C 331.97266 1122.2229 352.71145 1179.4317 352.31445 1198.0977 C 352.05445 1210.2707 341.94336 1258.5527 341.94336 1258.5527 C 333.56836 1291.8197 340.74608 1339.6982 346.33008 1351.8672 C 351.91408 1364.0382 351.11719 1445.5915 351.11719 1454.5215 C 351.11719 1463.4455 343.13811 1495.4984 343.53711 1500.7754 C 343.93811 1506.0484 346.33145 1516.1944 343.93945 1523.8984 C 341.54545 1531.6114 341.94447 1547.8404 346.73047 1557.9844 C 341.94447 1572.5894 343.53819 1586.7898 342.74219 1597.3418 C 341.94419 1607.8888 355.90266 1614.3828 365.47266 1614.3828 C 375.04466 1614.3828 374.24805 1603.832 374.24805 1603.832 L 379.43359 1603.0215 C 379.43359 1603.0215 377.43975 1603.8329 384.21875 1606.6719 C 391.00175 1609.5109 394.19003 1606.6705 396.58203 1603.0215 C 406.15403 1610.3235 409.34597 1600.9924 410.54297 1601.3984 C 411.73797 1601.8044 417.32203 1603.0213 421.70703 1598.1523 C 426.89203 1600.1793 430.08314 1594.4993 432.07812 1587.1973 C 434.07113 1579.8923 424.50197 1557.172 418.91797 1552.707 C 413.33397 1548.244 411.34014 1533.232 409.74414 1527.957 C 408.15014 1522.686 410.94117 1504.424 406.95117 1495.498 C 400.63517 1481.362 406.95169 1461.8251 406.55469 1439.9141 C 406.15569 1418.0031 434.86917 1310.4823 440.45117 1278.0273 C 446.03917 1245.5663 436.46278 1175.3733 433.67578 1166.4473 C 430.88078 1157.5233 436.06558 1111.2665 443.64258 1075.5625 C 445.38419 1067.3567 447.3456 1053.0465 449.24609 1035.5117 L 448.28711 750.23242 C 447.64052 747.21232 447.0304 744.57714 446.51758 742.3418 C 433.16346 742.47563 397.60378 742.57078 303.01953 742.07812 z"
              style="fill:#99ff55;cursor:pointer" />
        
        <!-- Fianchi -->
        <path id="fianchi"
              (click)="onClickSVG('fianchi')"
              [class.evidenziato]="parteCorporeaAttiva === 'fianchi'"
              d="M 176.11914 590.01172 C 176.03154 591.53218 175.96335 592.52193 175.92773 592.88477 C 173.97173 612.65777 170.7025 610.17961 173.3125 629.34961 C 177.2635 658.29661 177.31709 651.94661 168.12109 683.59961 C 167.46209 688.67061 166.11013 695.01884 165.45312 700.08984 C 163.87612 712.25284 162.99887 723.13497 161.42188 735.29297 C 160.90667 737.38778 160.42661 739.32486 159.97656 741.12891 L 446.47266 742.14648 C 446.01371 740.14443 445.63578 738.46921 445.38477 737.13281 C 444.65977 733.27281 444.34266 728.23436 443.59766 724.31836 C 442.83966 720.31136 441.32672 712.59873 440.76172 708.05273 C 440.04672 702.30673 440.28892 699.6995 439.29492 694.6875 C 433.22092 664.0005 432.56492 668.85509 430.54492 659.74609 C 428.45592 650.31209 430.22536 643.8663 431.69336 634.7793 C 432.10736 632.2133 432.09903 627.64481 432.33203 624.50781 C 432.61603 620.66981 433.0633 618.22314 432.7793 614.86914 C 431.1833 596.23014 430.91333 601.37385 429.98633 594.42188 C 429.79989 593.03651 429.62812 591.56247 429.4707 590.01172 L 176.11914 590.01172 z"
              style="fill:#7fff2a;cursor:pointer" />
        
        <!-- Addome -->
        <path id="addome"
              (click)="onClickSVG('addome')"
              [class.evidenziato]="parteCorporeaAttiva === 'addome'"
              d="M 173.94922 498.4043 C 178.83403 528.93454 176.84097 577.48327 176.11914 590.01172 L 429.4707 590.01172 C 426.87552 564.44656 428.15014 518.08848 430.87109 506.375 C 431.76839 502.51458 431.92277 500.22161 431.99023 498.4043 L 173.94922 498.4043 z"
              style="fill:#7fff2a;cursor:pointer" />
        
        <!-- Torace -->
        <path id="torace"
              (click)="onClickSVG('torace')"
              [class.evidenziato]="parteCorporeaAttiva === 'torace'"
              d="M 365.26758 213.59766 C 329.17766 213.65501 287.80293 213.70553 240.37109 213.74414 C 225.00846 228.72427 197.78886 244.63039 184.62891 251.74219 C 170.93999 259.13837 164.06809 262.14963 158.91016 263.99023 L 159.26953 454.68359 L 159.74609 454.68359 C 164.21409 467.74659 168.68048 480.81486 173.14648 493.88086 C 173.43248 495.33708 173.70008 496.84717 173.94922 498.4043 L 431.99023 498.4043 C 432.08096 495.96033 432.01519 494.37647 433.39453 490.99609 C 438.03553 479.63609 443.36973 466.93427 446.17773 455.82227 C 446.55073 455.63127 446.92397 455.44291 447.29297 455.25391 C 447.29416 455.41163 447.29516 455.56928 447.29688 455.72656 L 446.65039 263.54492 C 444.6381 262.80749 442.73309 262.06516 440.95703 261.2832 C 418.02574 251.19286 382.66749 229.99113 365.26758 213.59766 z"
              style="fill:#7fff2a;cursor:pointer" />
        
        <!-- Bicipite Sinistro -->
        <path id="bicipiteSx"
              (click)="onClickSVG('bicipiteSx')"
              [class.evidenziato]="parteCorporeaAttiva === 'bicipiteSx'"
              d="M 524.69336 388.65625 L 447.07031 388.65625 L 447.29688 455.72656 C 447.6332 486.78363 457.85783 509.26177 463.48633 535.34766 C 465.28133 547.73566 466.328 560.88244 468.125 573.27344 C 468.938 578.86944 470.49373 583.71059 471.30273 589.30859 C 470.28273 619.48159 470.12806 616.03356 471.41406 624.97656 C 474.07906 643.54656 469.25036 627.79605 488.56836 697.62305 C 490.94736 706.22505 494.71373 716.26152 496.80273 725.22852 C 497.26173 727.21452 497.93283 728.79189 498.42383 730.71289 C 502.75683 747.56589 505.48283 754.36302 503.42383 768.41602 C 502.34483 775.78102 501.55106 773.70053 499.28906 789.64453 C 497.05006 805.43153 498.00294 790.75222 496.08594 821.82422 C 495.67194 828.32822 494.14834 827.23977 495.73438 847.00977 C 497.04637 863.44377 493.47556 880.97425 498.85156 894.53125 C 500.52256 896.23525 500.33595 896.42423 503.12695 896.61523 C 508.82195 894.24223 506.65116 882.90177 507.91016 873.88477 C 508.71016 868.17977 508.90128 860.95339 510.11328 856.02539 C 510.48628 854.49939 510.20031 853.46559 510.94531 852.30859 C 511.31631 852.49459 511.69145 852.68605 512.06445 852.87305 C 513.96145 863.56005 511.88534 870.08644 511.65234 880.52344 C 511.58234 883.59744 512.15381 884.67242 512.50781 888.48242 C 513.03681 894.24642 512.61509 900.96178 514.37109 907.05078 C 514.55009 907.67678 514.63417 910.89034 516.07617 913.40234 C 518.02917 916.79234 522.88177 916.63311 524.50977 912.91211 C 529.30277 901.94411 525.70937 898.80286 528.85938 869.88086 C 529.19438 866.78386 528.08587 860.14908 530.04688 858.33008 C 530.04688 858.33008 531.36481 858.50569 531.50781 859.67969 C 533.30681 873.77769 532.44555 877.38366 532.81055 886.59766 C 532.91955 889.39166 533.79131 895.78077 533.94531 898.50977 C 534.00331 899.51077 533.83698 909.46427 535.95898 917.57227 C 536.77398 920.67027 539.48263 924.24128 544.14062 922.98828 C 549.21064 921.63128 548.64394 903.47561 549.58594 894.34961 C 551.50194 875.58161 549.67594 887.97767 549.83594 862.51367 C 549.83594 862.51367 551.06759 857.85205 552.18359 863.12305 C 560.73559 903.79805 555.54434 907.84234 561.10938 914.48438 C 563.19137 916.97037 567.15611 917.46961 568.91211 913.97461 C 574.00411 903.84961 570.53833 879.17467 570.11133 873.51367 C 568.41733 851.06667 569.09172 849.12416 569.01172 843.78516 C 572.52172 847.58816 573.17705 852.78031 579.62305 853.82031 C 583.00005 854.54731 584.74791 852.85497 585.00391 851.16797 C 585.18091 849.98497 584.24419 848.70559 584.24219 848.68359 C 583.81519 846.10459 582.26352 843.58231 581.85352 840.94531 C 581.12552 836.26531 582.21417 829.81134 581.20117 827.48438 C 578.74317 821.86237 577.9027 818.87477 577.0957 815.13477 C 576.4387 812.04077 577.0308 809.66333 575.7168 806.86133 C 574.5288 804.33833 572.95377 803.77664 571.25977 801.93164 C 569.76677 800.30964 568.17773 797.3955 566.67773 795.4375 C 549.55773 773.0725 553.82909 770.63262 552.62109 764.64062 C 549.60409 749.77762 550.76545 762.66411 553.56445 696.28711 C 556.69245 621.78211 552.73527 607.22342 551.07227 591.35742 C 550.52027 586.12842 550.60356 583.37197 549.72656 579.29297 C 542.28456 544.71497 541.3612 549.52547 537.6582 512.23047 C 530.4572 439.56047 536.15433 477.31034 525.23633 423.27734 C 523.41036 412.80927 523.80565 398.61869 524.69336 388.65625 z"
              style="fill:#99ff55;cursor:pointer" />
        
        <!-- Spalla Sinistra -->
        <path id="spalle"
              (click)="onClickSVG('spalle')"
              [class.evidenziato]="parteCorporeaAttiva === 'spalle'"
              d="M 446.65039 263.54492 L 447.07031 388.65625 L 524.69336 388.65625 C 524.99236 385.30063 525.34647 382.42431 525.69141 380.33203 C 529.13841 359.35303 523.85128 327.93642 509.98828 305.85742 C 491.46145 276.33436 464.74669 270.17657 446.65039 263.54492 z"
              style="fill:#99ff55;cursor:pointer" />
        
        <!-- Testa -->
        <path id="testa"
              (click)="onClickSVG('testa')"
              [class.evidenziato]="parteCorporeaAttiva === 'testa'"
              d="M 302.64062 14.382812 C 290.4446 14.232919 277.75102 17.703281 265.83008 25.816406 C 244.38208 40.414406 239.08853 66.424156 240.14453 99.660156 C 239.30753 99.447156 238.8653 98.529406 238.0293 98.316406 C 237.3793 98.148406 237.12469 98.182438 235.67969 98.523438 C 230.24369 100.84344 230.52059 106.92792 230.68359 113.29492 C 230.72459 114.93092 230.50756 127.21141 232.60156 134.19141 C 234.95956 142.06041 238.87452 148.43577 245.72852 148.50977 C 247.04552 157.80277 250.25977 171.10156 250.25977 171.10156 C 249.88477 186.43656 250.374 184.55991 250.25 200.87891 C 248.52032 204.77939 245.17347 208.99641 240.82617 213.29688 L 364.66211 213.02344 C 359.5942 208.16344 356.15842 203.74924 355.16406 200.20312 C 354.11206 196.43313 355.81641 168.26562 355.81641 168.26562 C 355.81641 168.26562 358.31253 154.29344 358.51953 149.64844 C 361.71453 148.38044 363.80709 148.65702 365.99609 146.29102 C 374.76309 136.82002 375.54028 127.83367 375.36328 114.38867 C 375.24228 105.34367 373.95339 100.31283 369.65039 98.423828 C 367.21839 98.032828 366.98544 98.640156 365.77344 99.660156 L 365.2168 99.660156 C 366.6378 85.402156 366.57578 68.986547 362.42578 57.060547 C 353.90009 32.565609 329.47188 14.712579 302.64062 14.382812 z"
              style="fill:#99ff55;cursor:pointer" />
      </svg>
                } @else { <svg version="1.1" viewBox="0 0 837.483 1819.369" width="350" height="auto">

                <!-- Testa -->
                <path id="testa"
                      (click)="onClickSVG('testa')"
                      [class.evidenziato]="parteCorporeaAttiva === 'testa'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 390.39844 133.20703 C 389.39844 133.32903 368.95764 134.87583 360.55664 140.92383 C 350.24464 147.86783 344.55077 151.07428 339.00977 163.36328 C 327.78577 191.83328 333.07422 210.97303 331.07422 220.33203 C 329.50122 219.06303 329.4795 216.85119 328.1875 215.36719 C 327.0675 213.11619 323.64344 212.48456 321.89844 214.35156 C 313.39144 223.20256 328.67889 268.32997 337.96289 257.04297 C 340.00389 279.02697 347.04102 291.16797 347.04102 291.16797 C 350.26602 310.98831 349.85216 322.97876 347.24023 331.52734 C 381.49278 331.56104 413.37564 331.60002 443.05273 331.64258 C 440.40932 323.08658 439.97928 311.07719 443.21875 291.16797 C 443.21875 291.16797 450.25392 279.02697 452.29492 257.04297 C 461.57892 268.32997 476.86833 223.20256 468.36133 214.35156 C 466.61633 212.48456 463.19227 213.11619 462.07227 215.36719 C 460.78027 216.85119 460.75659 219.06303 459.18359 220.33203 C 457.18359 210.97303 462.47205 191.83328 451.24805 163.36328 C 445.70705 151.07428 440.01317 147.86783 429.70117 140.92383 C 421.30017 134.87583 400.85938 133.32903 399.85938 133.20703 L 390.39844 133.20703 z " />

                <!-- Spalle -->
                <path id="spalle"
                      (click)="onClickSVG('spalle')"
                      [class.evidenziato]="parteCorporeaAttiva === 'spalle'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 525.30859 369.99414 L 521.92188 546.1582 C 522.0316 545.59779 522.14103 545.03571 522.25195 544.4707 C 523.90501 548.62002 525.87941 553.86107 527.97852 559.58594 L 594.29883 559.24805 C 570.69993 460.11489 589.29575 472.48613 579.61523 428.92383 C 566.12437 381.56649 544.26471 371.78476 525.30859 369.99414 z " />
                      
                <path id="spalle"
                      (click)="onClickSVG('spalle')"
                      [class.evidenziato]="parteCorporeaAttiva === 'spalle'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 263.72266 370.12109 C 245.05688 372.22309 223.84444 382.58524 210.64453 428.92383 C 200.89845 472.78117 219.81397 459.94441 195.47656 561.27734 L 261.78906 560.94141 C 263.65506 555.83291 265.43645 551.06375 266.99805 547.04883 L 263.72266 370.12109 z " />

                <!-- Torace -->
                <path id="torace"
                      (click)="onClickSVG('torace')"
                      [class.evidenziato]="parteCorporeaAttiva === 'torace'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 267.23438 546.44141 C 267.50043 545.76076 267.75988 545.10285 268.01172 544.4707 C 269.13141 550.17406 270.19121 555.6441 271.19141 560.89258 L 519.31445 559.62891 C 520.06275 555.71247 520.84251 551.67522 521.65625 547.50977 C 521.7301 449.93188 522.6596 397.75528 523.63281 369.85547 C 517.96759 369.45006 512.59807 369.69179 507.83203 369.76953 C 490.88803 370.14753 462.60848 358.07044 454.89648 350.02344 C 450.01346 344.7097 445.81527 339.91375 443.33008 332.50195 L 347.00977 332.25781 C 344.53543 339.80911 340.29784 344.65151 335.36133 350.02344 C 327.64933 358.07044 299.37073 370.14753 282.42773 369.76953 C 279.05627 369.71454 275.3823 369.57679 271.51562 369.64453 C 269.53537 369.67922 267.50416 369.76824 265.4375 369.94922 C 266.34003 400.38934 267.16089 453.56586 267.23438 546.44141 z " />

                <!-- Addome -->
                <path id="addome"
                      (click)="onClickSVG('addome')"
                      [class.evidenziato]="parteCorporeaAttiva === 'addome'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 518.96094 561.48438 C 451.57235 561.7435 370.04691 561.95824 271.41992 562.09766 C 283.47161 625.49975 286.86438 656.2807 285.23438 675.58203 L 505.03125 675.58203 C 503.39601 656.21858 506.81476 625.30153 518.96094 561.48438 z " />

                <!-- Fianchi -->
                <path id="fianchi"
                      (click)="onClickSVG('fianchi')"
                      [class.evidenziato]="parteCorporeaAttiva === 'fianchi'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 285.23438 675.58203 C 281.97117 714.22256 258.57881 706.85433 244.24414 823.09961 L 546.01953 823.09961 C 531.68522 706.85443 508.29441 714.22235 505.03125 675.58203 L 285.23438 675.58203 z " />

                <!-- Bicipite Destro -->
                <path id="bicipiteDx"
                      (click)="onClickSVG('bicipiteDx')"
                      [class.evidenziato]="parteCorporeaAttiva === 'bicipiteDx'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 261.36328 562.11133 C 240.11722 562.13993 218.09215 562.16413 195.25781 562.18555 C 195.09909 562.84386 194.93775 563.50787 194.77539 564.17578 C 188.51639 589.37478 185.50323 599.97292 178.61523 614.29492 C 133.14123 702.34992 154.43747 742.43894 127.48047 815.08594 C 115.08147 852.71594 115.10316 848.07172 110.53516 850.01172 C 90.614154 857.87872 77.682828 871.86773 77.048828 873.30273 C 68.125828 893.75673 53.719953 900.71448 57.126953 907.14648 C 58.022953 908.84848 60.446266 909.73434 62.072266 908.52734 C 67.261266 909.43734 74.810219 903.72069 78.199219 899.92969 C 82.301219 895.22369 81.57425 892.47136 89.53125 886.06836 C 91.35525 888.11536 87.375156 906.4038 86.410156 909.4668 C 81.533156 924.1958 59.844406 959.08677 68.816406 963.88477 C 69.761406 964.28477 71.042672 964.83866 71.888672 963.97266 C 73.441672 962.44266 75.419469 961.36956 76.730469 959.60156 C 84.755469 949.38356 94.296066 925.24128 100.78906 920.36328 C 104.06806 920.58728 102.38545 922.70853 96.314453 942.89453 C 92.641453 955.97853 91.171875 962.83594 91.171875 962.83594 C 81.045875 993.30194 97.401828 988.55253 102.67383 969.64453 C 103.12183 968.10753 112.39573 942.73236 112.80273 941.48438 C 114.04373 938.19336 117.40452 923.67733 121.60352 926.61133 C 122.24952 929.08033 121.26741 929.65581 118.06641 958.13281 C 115.46641 979.94581 114.83052 966.92259 115.35352 984.55859 C 115.43252 986.72259 119.79372 987.81583 121.63672 986.67383 C 132.17572 976.95083 134.32698 929.06139 139.70898 925.65039 C 143.37798 929.94339 143.98141 959.40605 145.69141 964.87305 C 148.34341 974.57805 153.13883 969.67433 153.67383 968.11133 C 157.49883 958.78733 153.48278 937.57466 154.30078 922.72266 C 154.30078 922.72266 158.66905 908.19288 161.49805 884.04688 C 165.67405 838.53287 143.63884 897.31333 210.08984 716.86133 C 210.08984 716.86133 215.38781 706.64331 223.88281 686.07031 C 233.69281 664.76031 229.87044 650.41814 243.64844 612.61914 C 243.9253 611.8522 253.33004 584.17132 261.36328 562.11133 z " />

                <!-- Bicipite Sinistro -->
                <path id="bicipiteSx"
                      (click)="onClickSVG('bicipiteSx')"
                      [class.evidenziato]="parteCorporeaAttiva === 'bicipiteSx'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 594.75195 561.14648 C 574.44672 561.25129 552.46197 561.35231 528.6582 561.44727 C 536.74338 583.61174 546.33558 611.84447 546.61523 612.61914 C 560.39323 650.41914 556.57086 664.76131 566.38086 686.07031 C 574.87586 706.64331 580.17578 716.86133 580.17578 716.86133 C 646.62678 897.31233 624.58964 838.53287 628.76562 884.04688 C 631.59462 908.19286 635.96289 922.72266 635.96289 922.72266 C 636.78089 937.57466 632.7668 958.78733 636.5918 968.11133 C 637.1268 969.67433 641.92027 974.57805 644.57227 964.87305 C 646.28227 959.40605 646.88569 929.94339 650.55469 925.65039 C 655.93669 929.06139 658.08795 976.95183 668.62695 986.67383 C 670.46995 987.81583 674.83116 986.72259 674.91016 984.55859 C 675.43316 966.92259 674.79727 979.94581 672.19727 958.13281 C 668.99627 929.65581 668.01416 929.08033 668.66016 926.61133 C 672.85916 923.67733 676.21994 938.19338 677.46094 941.48438 C 677.86794 942.73238 687.1438 968.10753 687.5918 969.64453 C 692.8638 988.55253 709.2178 993.30194 699.0918 962.83594 C 699.0918 962.83594 697.62222 955.97853 693.94922 942.89453 C 687.87822 922.70853 686.19561 920.58728 689.47461 920.36328 C 695.96761 925.24128 705.5082 949.38356 713.5332 959.60156 C 714.8442 961.36956 716.822 962.44266 718.375 963.97266 C 719.221 964.83866 720.50227 964.28477 721.44727 963.88477 C 730.41927 959.08677 708.73052 924.1958 703.85352 909.4668 C 702.88852 906.4038 698.90842 888.11536 700.73242 886.06836 C 708.68942 892.47136 707.96245 895.22369 712.06445 899.92969 C 715.45345 903.72069 723.00241 909.43734 728.19141 908.52734 C 729.81741 909.73434 732.24072 908.84848 733.13672 907.14648 C 736.53972 900.71448 722.13394 893.75673 713.21094 873.30273 C 712.57694 871.86773 699.64561 857.87872 679.72461 850.01172 C 675.15661 848.07172 675.1783 852.71594 662.7793 815.08594 C 635.8223 742.43894 657.11853 702.34992 611.64453 614.29492 C 604.75653 599.97292 601.74337 589.37478 595.48438 564.17578 C 595.23617 563.15471 594.99168 562.14519 594.75195 561.14648 z " />

                <!-- Gamba Destra -->
                <path id="gambaDx"
                      (click)="onClickSVG('gambaDx')"
                      [class.evidenziato]="parteCorporeaAttiva === 'gambaDx'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 244.24414 823.09961 C 242.35138 838.4487 240.61718 855.95201 239.10742 876.00195 C 233.39942 981.04395 240.97083 952.70803 257.29883 1099.5449 C 289.01783 1388.8489 242.21022 1229.7064 292.94922 1483.8574 C 303.93922 1535.3524 302.78769 1528.7166 304.80469 1540.1406 C 307.08469 1561.5036 303.016 1561.6681 303.125 1571.4531 C 302.426 1595.4841 309.08811 1580.0284 301.41211 1623.9844 C 296.41911 1648.1654 296.50033 1633.1974 293.73633 1661.4004 C 290.27333 1675.3774 279.8238 1714.1336 294.5918 1713.8516 C 295.8778 1721.4916 300.13266 1723.0065 304.34766 1720.5625 C 303.66366 1723.0175 305.72828 1724.8562 307.11328 1726.5742 C 311.92628 1727.8962 311.87341 1727.6035 313.94141 1726.0195 C 315.43641 1731.8105 319.11445 1731.7617 320.68945 1732.1797 C 325.45745 1733.6557 326.5937 1720.9425 327.4707 1716.0195 C 328.3267 1715.9735 329.17548 1715.9236 330.02148 1715.8906 C 328.94948 1719.0416 322.86125 1731.7226 332.65625 1732.7246 C 340.30725 1733.9626 341.19781 1732.8926 345.38281 1728.9336 C 352.37481 1721.9236 350.79286 1719.995 352.00586 1708.25 C 352.19686 1705.866 357.68995 1701.6694 352.87695 1670.6074 C 351.02195 1654.6554 352.04564 1673.2976 353.18164 1634.8926 C 353.55264 1618.2986 358.86684 1615.316 359.58984 1603.543 C 353.09684 1576.147 358.12492 1588.9932 355.54492 1573.0332 C 349.39992 1538.7202 348.43914 1545.7778 356.11914 1465.7168 C 363.10614 1399.8778 370.26684 1397.0405 363.83984 1328.8535 C 349.54384 1218.7035 363.61602 1259.9077 365.29102 1202.6367 C 366.79402 1135.2767 361.09353 1093.8286 368.39453 1034.4336 C 372.70853 999.69855 380.74538 965.59903 380.60938 944.20703 C 383.55737 940.56803 385.59334 936.32284 387.77734 932.21484 C 390.94934 926.01184 390.4323 931.70106 390.4043 896.53906 C 391.8283 896.32106 393.28883 896.25733 394.67383 895.86133 C 394.83583 895.52733 394.98038 895.20095 395.10938 894.87695 L 395.13281 894.90039 C 395.14081 894.89239 395.1473 894.88395 395.1543 894.87695 C 395.26292 895.14979 395.38382 895.42379 395.51562 895.70312 L 395.51562 823.09961 L 244.24414 823.09961 z " />

                <!-- Gamba Sinistra -->
                <path id="gambaSx"
                      (click)="onClickSVG('gambaSx')"
                      [class.evidenziato]="parteCorporeaAttiva === 'gambaSx'"
                      style="fill:#99ff55;cursor:pointer"
                      d="M 395.51562 823.09961 L 395.51562 895.70312 L 395.51562 895.70508 C 395.54015 895.75704 395.56447 895.80902 395.58984 895.86133 C 396.97484 896.25733 398.43533 896.32106 399.85938 896.53906 C 399.83137 931.70106 399.31433 926.01184 402.48633 932.21484 C 404.67033 936.32284 406.7063 940.56803 409.6543 944.20703 C 409.5183 965.59903 417.55514 999.69955 421.86914 1034.4336 C 429.17014 1093.8276 423.46966 1135.2757 424.97266 1202.6367 C 426.64766 1259.9067 440.71983 1218.7035 426.42383 1328.8535 C 419.99683 1397.0395 427.15753 1399.8778 434.14453 1465.7168 C 441.82453 1545.7778 440.86375 1538.7202 434.71875 1573.0332 C 432.13875 1588.9932 437.16683 1576.147 430.67383 1603.543 C 431.39683 1615.316 436.71103 1618.2986 437.08203 1634.8926 C 438.21803 1673.2976 439.24172 1654.6554 437.38672 1670.6074 C 432.57372 1701.6694 438.06681 1705.866 438.25781 1708.25 C 439.47081 1719.995 437.88886 1721.9236 444.88086 1728.9336 C 449.06586 1732.8926 449.95642 1733.9626 457.60742 1732.7246 C 467.40242 1731.7226 461.31419 1719.0416 460.24219 1715.8906 C 461.08819 1715.9236 461.93697 1715.9735 462.79297 1716.0195 C 463.66997 1720.9425 464.80622 1733.6557 469.57422 1732.1797 C 471.14922 1731.7617 474.82727 1731.8105 476.32227 1726.0195 C 478.39027 1727.6035 478.33739 1727.8962 483.15039 1726.5742 C 484.53539 1724.8562 486.60002 1723.0175 485.91602 1720.5625 C 490.13102 1723.0065 494.38583 1721.4916 495.67188 1713.8516 C 510.43988 1714.1336 499.99034 1675.3774 496.52734 1661.4004 C 493.76334 1633.1974 493.84456 1648.1654 488.85156 1623.9844 C 481.17556 1580.0284 487.83767 1595.4841 487.13867 1571.4531 C 487.24767 1561.6681 483.17898 1561.5036 485.45898 1540.1406 C 487.47598 1528.7166 486.32445 1535.3524 497.31445 1483.8574 C 548.05345 1229.7064 501.2478 1388.8499 532.9668 1099.5449 C 549.2948 952.70803 556.86425 981.04395 551.15625 876.00195 C 549.6465 855.95208 547.91224 838.44867 546.01953 823.09961 L 395.51562 823.09961 z " />

              </svg>
            }

    </div>
  </div>
 

<div class="form-section">
    <h2>Misurazioni Antropometriche</h2>
    
    <!-- Messaggio di successo -->
    @if (messaggioSuccesso) {
      <div class="alert alert-success">
        <i class="bi bi-check-circle-fill"></i>
        {{ messaggioSuccesso }}
      </div>
    }

    <!-- Messaggio di errore -->
    @if (messaggioErrore) {
      <div class="alert alert-danger">
        <i class="bi bi-exclamation-triangle-fill"></i>
        {{ messaggioErrore }}
      </div>
    }
    
    <form [formGroup]="misurazioniForm">
      @for (mis of misurazioni; track mis.pathId; let i = $index) {
        <div class="misurazione-item">
          <label [for]="'input-' + mis.pathId">{{ mis.nome }}</label>
          <div class="input-group">
            <input
              [id]="'input-' + mis.pathId"
              type="number"
              [formControlName]="mis.pathId"
              (focus)="onFocusInput(mis.pathId)"
              (blur)="onBlurInput()"
              (keydown.enter)="focusNextInput(i, $event)"
              placeholder="0"
              min="0"
              max="300"
              step="0.1"
              [disabled]="salvataggioInCorso"
            />
            <span class="unita">{{ mis.unita }}</span>
          </div>
          @if (misurazioniForm.get(mis.pathId)?.invalid && misurazioniForm.get(mis.pathId)?.touched) {
            <div class="errore">Valore non valido</div>
          }
        </div>
      }

      <div class="pulsanti">
        <button 
          type="button" 
          class="btn btn-primary" 
          (click)="salva()" 
          [disabled]="misurazioniForm.invalid || salvataggioInCorso">
          @if (salvataggioInCorso) {
            <span class="spinner-border spinner-border-sm me-2"></span>
            Salvataggio...
          } @else {
            <i class="bi bi-save"></i>
            Salva Misurazioni
          }
        </button>
        <button 
          type="button" 
          class="btn btn-secondary" 
          (click)="reset()"
          [disabled]="salvataggioInCorso">
          <i class="bi bi-arrow-counterclockwise"></i>
          Reset
        </button>
      </div>
    </form>
  </div>
  
</div>
